!function(e){function t(t,s){if(this.element=t,this.options=e.extend({},n,s),e(this.element).data("max-height",this.options.maxHeight),delete this.options.maxHeight,this.options.embedCSS&&!o){var a=".readmore-js-toggle, .readmore-js-section { "+this.options.sectionCSS+" } .readmore-js-section { overflow: hidden; }";!function(e,t){var i=e.createElement("style");i.type="text/css",i.styleSheet?i.styleSheet.cssText=t:i.appendChild(e.createTextNode(t)),e.getElementsByTagName("head")[0].appendChild(i)}(document,a),o=!0}this._defaults=n,this._name=i,this.init()}var i="readmore",n={speed:100,maxHeight:200,moreLink:'<a href="#">Read More</a>',lessLink:'<a href="#">Close</a>',embedCSS:!0,sectionCSS:"display: block; width: 100%;",startOpen:!1,beforeToggle:function(){},afterToggle:function(){}},o=!1;t.prototype={init:function(){var t=this;e(this.element).each(function(){var i=e(this),n=i.css("max-height").replace(/[^-\d\.]/g,"")>i.data("max-height")?i.css("max-height").replace(/[^-\d\.]/g,""):i.data("max-height");if(i.addClass("readmore-js-section"),"none"!=i.css("max-height")&&i.css("max-height","none"),i.data("boxHeight",i.outerHeight(!0)),i.outerHeight(!0)<n)return!0;i.data("sliderHeight",n);var o=t.options.startOpen?t.options.lessLink:t.options.moreLink;i.after(e(o).on("click",function(e){t.toggleSlider(this,i,e)}).addClass("readmore-js-toggle")),t.options.startOpen||i.css({height:n})})},toggleSlider:function(t,i,n){n.preventDefault();var o=this,s=newLink="",a=!1,h=e(i).data("sliderHeight");e(i).height()==h?(s=e(i).data().boxHeight+"px",newLink="lessLink",a=!0):(s=h,newLink="moreLink"),o.options.beforeToggle(t,i,a),e(i).animate({height:s},{duration:o.options.speed}),e(t).replaceWith(e(o.options[newLink]).on("click",function(e){o.toggleSlider(this,i,e)}).addClass("readmore-js-toggle")),o.options.afterToggle(t,i,a)}},e.fn[i]=function(n){var o=arguments;return void 0===n||"object"==typeof n?this.each(function(){e.data(this,"plugin_"+i)||e.data(this,"plugin_"+i,new t(this,n))}):"string"==typeof n&&"_"!==n[0]&&"init"!==n?this.each(function(){var s=e.data(this,"plugin_"+i);s instanceof t&&"function"==typeof s[n]&&s[n].apply(s,Array.prototype.slice.call(o,1))}):void 0}}(jQuery);