!function(e,t,i,o){"use strict";var n="cbp",a="."+n;"function"!=typeof Object.create&&(Object.create=function(e){function t(){}return t.prototype=e,new t}),e.expr[":"].uncached=function(t){if(!e(t).is('img[src][src!=""]'))return!1;var i=new Image;return i.src=t.src,!i.complete};var s={init:function(e,t){var i,o=this;return o.cubeportfolio=e,o.type=t,o.isOpen=!1,o.options=o.cubeportfolio.options,"singlePageInline"===t?(o.matrice=[-1,-1],o.height=0,o._createMarkupSinglePageInline(),void 0):(o._createMarkup(),o.options.singlePageDeeplinking&&"singlePage"===t&&(o.url=location.href,"#"===o.url.slice(-1)&&(o.url=o.url.slice(0,-1)),i=o.cubeportfolio.blocksAvailable.find(o.options.singlePageDelegate).filter(function(){return o.url.split("#cbp=")[1]===this.getAttribute("href")})[0],i&&(o.url=o.url.replace(/#cbp=(.+)/gi,""),o.openSinglePage(o.cubeportfolio.blocksAvailable.find(o.options.singlePageDelegate),i))),void 0)},_createMarkup:function(){var t=this,o="";"singlePage"===t.type&&"left"!==t.options.singlePageAnimation&&(o=" cbp-popup-singlePage-"+t.options.singlePageAnimation),t.wrap=e("<div/>",{"class":"cbp-popup-wrap cbp-popup-"+t.type+o,"data-action":"lightbox"===t.type?"close":""}).on("click"+a,function(i){if(!t.stopEvents){var o=e(i.target).attr("data-action");t[o]&&(t[o](),i.preventDefault())}}),t.content=e("<div/>",{"class":"cbp-popup-content"}).appendTo(t.wrap),e("<div/>",{"class":"cbp-popup-loadingBox"}).appendTo(t.wrap),"ie8"===t.cubeportfolio.browser&&(t.bg=e("<div/>",{"class":"cbp-popup-ie8bg","data-action":"lightbox"===t.type?"close":""}).appendTo(t.wrap)),t.navigationWrap=e("<div/>",{"class":"cbp-popup-navigation-wrap"}).appendTo(t.wrap),t.navigation=e("<div/>",{"class":"cbp-popup-navigation"}).appendTo(t.navigationWrap),t.closeButton=e("<div/>",{"class":"cbp-popup-close",title:"Close (Esc arrow key)","data-action":"close"}).appendTo(t.navigation),t.nextButton=e("<div/>",{"class":"cbp-popup-next",title:"Next (Right arrow key)","data-action":"next"}).appendTo(t.navigation),t.prevButton=e("<div/>",{"class":"cbp-popup-prev",title:"Previous (Left arrow key)","data-action":"prev"}).appendTo(t.navigation),"singlePage"===t.type&&(t.options.singlePageCounter&&(t.counter=e(t.options.singlePageCounter).appendTo(t.navigation),t.counter.text("")),t.content.on("click"+a,t.options.singlePageDelegate,function(e){e.preventDefault();var i,o=t.dataArray.length,n=this.getAttribute("href");for(i=0;o>i&&t.dataArray[i].url!==n;i++);t.singlePageJumpTo(i-t.current)}),t.wrap.on("mousewheel"+a+" DOMMouseScroll"+a,function(e){e.stopImmediatePropagation()})),e(i).on("keydown"+a,function(e){t.isOpen&&(t.stopEvents||(37===e.keyCode?t.prev():39===e.keyCode?t.next():27===e.keyCode&&t.close()))})},_createMarkupSinglePageInline:function(){var t=this;t.wrap=e("<div/>",{"class":"cbp-popup-singlePageInline"}).on("click"+a,function(i){if(!t.stopEvents){var o=e(i.target).attr("data-action");o&&t[o]&&(t[o](),i.preventDefault())}}),t.content=e("<div/>",{"class":"cbp-popup-content"}).appendTo(t.wrap),e("<div/>",{"class":"cbp-popup-loadingBox"}).appendTo(t.wrap),t.navigation=e("<div/>",{"class":"cbp-popup-navigation"}).appendTo(t.wrap),t.closeButton=e("<div/>",{"class":"cbp-popup-close",title:"Close (Esc arrow key)","data-action":"close"}).appendTo(t.navigation)},destroy:function(){var t=this,o=e("body");e(i).off("keydown"+a),o.off("click"+a,t.options.lightboxDelegate),o.off("click"+a,t.options.singlePageDelegate),t.content.off("click"+a,t.options.singlePageDelegate),t.cubeportfolio.$obj.off("click"+a,t.options.singlePageInlineDelegate),t.cubeportfolio.$obj.off("click"+a,t.options.lightboxDelegate),t.cubeportfolio.$obj.off("click"+a,t.options.singlePageDelegate),t.cubeportfolio.$obj.removeClass("cbp-popup-isOpening"),t.cubeportfolio.blocks.removeClass("cbp-singlePageInline-active"),t.wrap.remove()},openLightbox:function(o,n){var a,s,l=this,r=0,p=[];if(!l.isOpen){if(l.isOpen=!0,l.stopEvents=!1,l.dataArray=[],l.current=null,a=n.getAttribute("href"),null===a)throw new Error("HEI! Your clicked element doesn't have a href attribute.");e.each(o,function(t,i){var o,n=i.getAttribute("href"),s=n,c="isImage";if(-1===e.inArray(n,p)){if(a===n)l.current=r;else if(!l.options.lightboxGallery)return;/youtube/i.test(n)?(o=n.substring(n.lastIndexOf("v=")+2),/autoplay=/i.test(o)||(o+="&autoplay=1"),o=o.replace(/\?|&/,"?"),s="//www.youtube.com/embed/"+o,c="isYoutube"):/vimeo/i.test(n)?(o=n.substring(n.lastIndexOf("/")+1),/autoplay=/i.test(o)||(o+="&autoplay=1"),o=o.replace(/\?|&/,"?"),s="//player.vimeo.com/video/"+o,c="isVimeo"):/ted\.com/i.test(n)?(s="http://embed.ted.com/talks/"+n.substring(n.lastIndexOf("/")+1)+".html",c="isTed"):/(\.mp4)|(\.ogg)|(\.ogv)|(\.webm)/i.test(n)&&(s=-1!==n.indexOf("|")?n.split("|"):n.split("%7C"),c="isSelfHosted"),l.dataArray.push({src:s,title:i.getAttribute(l.options.lightboxTitleSrc),type:c}),r++}p.push(n)}),l.counterTotal=l.dataArray.length,1===l.counterTotal?(l.nextButton.hide(),l.prevButton.hide(),l.dataActionImg=""):(l.nextButton.show(),l.prevButton.show(),l.dataActionImg='data-action="next"'),l.wrap.appendTo(i.body),l.scrollTop=e(t).scrollTop(),l.originalStyle=e("html").attr("style"),e("html").css({overflow:"hidden",paddingRight:t.innerWidth-e(i).width()}),l.wrap.show(),s=l.dataArray[l.current],l[s.type](s)}},openSinglePage:function(o,n){var s,l=this,r=0,p=[];if(!l.isOpen){if(l.cubeportfolio.singlePageInline&&l.cubeportfolio.singlePageInline.isOpen&&l.cubeportfolio.singlePageInline.close(),l.isOpen=!0,l.stopEvents=!1,l.dataArray=[],l.current=null,s=n.getAttribute("href"),null===s)throw new Error("HEI! Your clicked element doesn't have a href attribute.");if(e.each(o,function(t,i){var o=i.getAttribute("href");-1===e.inArray(o,p)&&(s===o&&(l.current=r),l.dataArray.push({url:o,element:i}),r++),p.push(o)}),l.counterTotal=l.dataArray.length,1===l.counterTotal?(l.nextButton.hide(),l.prevButton.hide()):(l.nextButton.show(),l.prevButton.show()),l.wrap.appendTo(i.body),l.scrollTop=e(t).scrollTop(),e("html").css({overflow:"hidden",paddingRight:t.innerWidth-e(i).width()}),l.wrap.scrollTop(0),l.wrap.show(),l.finishOpen=2,l.navigationMobile=e(),l.wrap.one(l.cubeportfolio.transitionEnd,function(){var t;l.options.singlePageStickyNavigation&&(l.wrap.addClass("cbp-popup-singlePage-sticky"),t=l.wrap[0].clientWidth,l.navigationWrap.width(t),("android"===l.cubeportfolio.browser||"ios"===l.cubeportfolio.browser)&&(l.navigationMobile=e("<div/>",{"class":"cbp-popup-singlePage cbp-popup-singlePage-sticky"}).on("click"+a,function(t){if(!l.stopEvents){var i=e(t.target).attr("data-action");l[i]&&(l[i](),t.preventDefault())}}),l.navigationMobile.appendTo(i.body).append(l.navigationWrap))),l.finishOpen--,l.finishOpen<=0&&l.updateSinglePageIsOpen.call(l)}),"ie8"===l.cubeportfolio.browser||"ie9"===l.cubeportfolio.browser){if(l.options.singlePageStickyNavigation){var c=l.wrap[0].clientWidth;l.navigationWrap.width(c),setTimeout(function(){l.wrap.addClass("cbp-popup-singlePage-sticky")},1e3)}l.finishOpen--}l.wrap.addClass("cbp-popup-loading"),l.cubeportfolio._forceReflow(l.wrap).addClass("cbp-popup-singlePage-open"),l.options.singlePageDeeplinking&&(location.href=l.url+"#cbp="+l.dataArray[l.current].url),e.isFunction(l.options.singlePageCallback)&&l.options.singlePageCallback.call(l,l.dataArray[l.current].url,l.dataArray[l.current].element)}},openSinglePageInline:function(t,i,o){var n,a,s,l,r,p,c=this,d=0,u=0,b=0;if(o=o||!1,c.fromOpen=o,c.storeBlocks=t,c.storeCurrentBlock=i,c.isOpen)return l=e(i).closest(".cbp-item").index(),c.dataArray[c.current].url!==i.getAttribute("href")||c.current!==l?c.cubeportfolio.singlePageInline.close("open",{blocks:t,currentBlock:i,fromOpen:!0}):c.close(),void 0;if(c.wrap.addClass("cbp-popup-loading"),c.isOpen=!0,c.stopEvents=!1,c.dataArray=[],c.current=null,n=i.getAttribute("href"),null===n)throw new Error("HEI! Your clicked element doesn't have a href attribute.");r=e(i).closest(".cbp-item")[0],e.each(t,function(e,t){r===t&&(c.current=e)}),c.dataArray[c.current]={url:n,element:i},p=e(c.dataArray[c.current].element).parents(".cbp-item").addClass("cbp-singlePageInline-active"),c.counterTotal=t.length,c.wrap.insertBefore(c.cubeportfolio.$ul),"top"===c.options.singlePageInlinePosition?(u=0,b=c.cubeportfolio.cols-1):"bottom"===c.options.singlePageInlinePosition?(u=c.counterTotal,b=c.counterTotal,c.lastColumn=!0,o?c.lastColumn&&(c.top=c.lastColumnHeight):(c.lastColumnHeight=c.cubeportfolio.height,c.top=c.lastColumnHeight)):"above"===c.options.singlePageInlinePosition?(d=Math.floor(c.current/c.cubeportfolio.cols),u=c.cubeportfolio.cols*d,b=c.cubeportfolio.cols*(d+1)-1):(d=Math.floor(c.current/c.cubeportfolio.cols),u=Math.min(c.cubeportfolio.cols*(d+1),c.counterTotal),b=Math.min(c.cubeportfolio.cols*(d+2)-1,c.counterTotal),a=Math.ceil((c.current+1)/c.cubeportfolio.cols),s=Math.ceil(c.counterTotal/c.cubeportfolio.cols),c.lastColumn=a===s,o?c.lastColumn&&(c.top=c.lastColumnHeight):(c.lastColumnHeight=c.cubeportfolio.height,c.top=c.lastColumnHeight)),c.matrice=[u,b],o||(c.finishOpen=2,c.wrap.one(c.cubeportfolio.transitionEnd,function(){c.finishOpen--,c.finishOpen<=0&&c.singlePageInlineIsOpen.call(c)}),c._resizeSinglePageInline(!1,!0),("ie8"===c.cubeportfolio.browser||"ie9"===c.cubeportfolio.browser)&&c.finishOpen--),e.isFunction(c.options.singlePageInlineCallback)&&c.options.singlePageInlineCallback.call(c,c.dataArray[c.current].url,c.dataArray[c.current].element)},_resizeSinglePageInline:function(i,o){var n,a=this;i=i||!1,o=o||!1,a.height=a.content.outerHeight(!0),a.cubeportfolio._layout(),a.cubeportfolio._processStyle(a.cubeportfolio.transition),i&&a.wrap.removeClass("cbp-popup-loading"),a.cubeportfolio.$obj.addClass("cbp-popup-isOpening"),a.wrap.css({height:a.height}),a.wrap.css({top:a.top}),n=a.lastColumn?a.height:0,a.cubeportfolio._resizeMainContainer(a.cubeportfolio.transition,n),a.options.singlePageInlineInFocus&&o&&(a.scrollTop=e(t).scrollTop(),e("body,html").animate({scrollTop:a.wrap.offset().top-150}))},appendScriptsToWrap:function(e){var t=this,o=0,n=function(a){var s=i.createElement("script"),l=a.src;s.type="text/javascript",s.readyState?s.onreadystatechange=function(){("loaded"==s.readyState||"complete"==s.readyState)&&(s.onreadystatechange=null,o++,e[o]&&n(e[o]))}:s.onload=function(){o++,e[o]&&n(e[o])},l?s.src=l:s.text=a.text,t.content[0].appendChild(s)};n(e[0])},updateSinglePage:function(t,i,o){var n,a=this;a.content.addClass("cbp-popup-content").removeClass("cbp-popup-content-basic"),o===!1&&a.content.removeClass("cbp-popup-content").addClass("cbp-popup-content-basic"),a.counter&&(n=e(a._getCounterMarkup(a.options.singlePageCounter,a.current+1,a.counterTotal)),a.counter.text(n.text())),a.content.html(t),i&&a.appendScriptsToWrap(i),a.finishOpen--,a.finishOpen<=0&&a.updateSinglePageIsOpen.call(a)},updateSinglePageIsOpen:function(){var t,i=this;i.wrap.addClass("cbp-popup-ready"),i.wrap.removeClass("cbp-popup-loading"),t=i.content.find(".cbp-slider"),t?(t.find(".cbp-slider-item").addClass("cbp-item"),i.slider=t.cubeportfolio({layoutMode:"slider",mediaQueries:[{width:1,cols:1}],gapHorizontal:0,gapVertical:0,caption:""})):i.slider=null,("android"===i.cubeportfolio.browser||"ios"===i.cubeportfolio.browser)&&e("html").css({position:"fixed"}),i.cubeportfolio.$obj.trigger("updateSinglePageComplete"+a)},updateSinglePageInline:function(e,t){var i=this;i.content.html(e),t&&i.appendScriptsToWrap(t),i.finishOpen--,i.finishOpen<=0&&i.singlePageInlineIsOpen.call(i)},singlePageInlineIsOpen:function(){var e=this;e.cubeportfolio._load(e.wrap,function(){var t=e.content.find(".cbp-slider");t?(t.find(".cbp-slider-item").addClass("cbp-item"),e.slider=t.cubeportfolio({layoutMode:"slider",displayType:"default",mediaQueries:[{width:1,cols:1}],gapHorizontal:0,gapVertical:0,caption:""}),t.on("pluginResize.cbp",function(){e._resizeSinglePageInline(!0)})):e.slider=null,e.cubeportfolio.$obj.trigger("updateSinglePageInlineComplete"+a),e._resizeSinglePageInline(!0)})},isImage:function(t){var i=this,o=new Image;i.tooggleLoading(!0),e('<img src="'+t.src+'">').is("img:uncached")?(e(o).on("load"+a+" error"+a,function(){i.updateImagesMarkup(t.src,t.title,i._getCounterMarkup(i.options.lightboxCounter,i.current+1,i.counterTotal)),i.tooggleLoading(!1)}),o.src=t.src):(i.updateImagesMarkup(t.src,t.title,i._getCounterMarkup(i.options.lightboxCounter,i.current+1,i.counterTotal)),i.tooggleLoading(!1))},isVimeo:function(e){var t=this;t.updateVideoMarkup(e.src,e.title,t._getCounterMarkup(t.options.lightboxCounter,t.current+1,t.counterTotal))},isYoutube:function(e){var t=this;t.updateVideoMarkup(e.src,e.title,t._getCounterMarkup(t.options.lightboxCounter,t.current+1,t.counterTotal))},isTed:function(e){var t=this;t.updateVideoMarkup(e.src,e.title,t._getCounterMarkup(t.options.lightboxCounter,t.current+1,t.counterTotal))},isSelfHosted:function(e){var t=this;t.updateSelfHostedVideo(e.src,e.title,t._getCounterMarkup(t.options.lightboxCounter,t.current+1,t.counterTotal))},_getCounterMarkup:function(e,t,i){if(!e.length)return"";var o={current:t,total:i};return e.replace(/\{\{current}}|\{\{total}}/gi,function(e){return o[e.slice(2,-2)]})},updateSelfHostedVideo:function(e,t,i){var o,n=this;n.wrap.addClass("cbp-popup-lightbox-isIframe");var a='<div class="cbp-popup-lightbox-iframe"><video controls="controls" height="auto" style="width: 100%">';for(o=0;o<e.length;o++)/(\.mp4)/i.test(e[o])?a+='<source src="'+e[o]+'" type="video/mp4">':/(\.ogg)|(\.ogv)/i.test(e[o])?a+='<source src="'+e[o]+'" type="video/ogg">':/(\.webm)/i.test(e[o])&&(a+='<source src="'+e[o]+'" type="video/webm">');a+='Your browser does not support the video tag.</video><div class="cbp-popup-lightbox-bottom">'+(t?'<div class="cbp-popup-lightbox-title">'+t+"</div>":"")+i+"</div></div>",n.content.html(a),n.wrap.addClass("cbp-popup-ready"),n.preloadNearbyImages()},updateVideoMarkup:function(e,t,i){var o=this;o.wrap.addClass("cbp-popup-lightbox-isIframe");var n='<div class="cbp-popup-lightbox-iframe"><iframe src="'+e+'" frameborder="0" allowfullscreen scrolling="no"></iframe><div class="cbp-popup-lightbox-bottom">'+(t?'<div class="cbp-popup-lightbox-title">'+t+"</div>":"")+i+"</div></div>";o.content.html(n),o.wrap.addClass("cbp-popup-ready"),o.preloadNearbyImages()},updateImagesMarkup:function(e,t,i){var o=this;o.wrap.removeClass("cbp-popup-lightbox-isIframe");var n='<div class="cbp-popup-lightbox-figure"><img src="'+e+'" class="cbp-popup-lightbox-img" '+o.dataActionImg+' /><div class="cbp-popup-lightbox-bottom">'+(t?'<div class="cbp-popup-lightbox-title">'+t+"</div>":"")+i+"</div></div>";o.content.html(n),o.wrap.addClass("cbp-popup-ready"),o.resizeImage(),o.preloadNearbyImages()},next:function(){var e=this;e[e.type+"JumpTo"](1)},prev:function(){var e=this;e[e.type+"JumpTo"](-1)},lightboxJumpTo:function(e){var t,i=this;i.current=i.getIndex(i.current+e),t=i.dataArray[i.current],i[t.type](t)},singlePageJumpTo:function(t){var i=this;i.current=i.getIndex(i.current+t),e.isFunction(i.options.singlePageCallback)&&(i.resetWrap(),i.wrap.scrollTop(0),i.wrap.addClass("cbp-popup-loading"),i.options.singlePageCallback.call(i,i.dataArray[i.current].url,i.dataArray[i.current].element),i.options.singlePageDeeplinking&&(location.href=i.url+"#cbp="+i.dataArray[i.current].url))},resetWrap:function(){var e=this;"singlePage"===e.type&&e.options.singlePageDeeplinking&&(location.href=e.url+"#")},getIndex:function(e){var t=this;return e%=t.counterTotal,0>e&&(e=t.counterTotal+e),e},close:function(i,o){var n=this;n.isOpen=!1,"singlePageInline"===n.type?"open"===i?(n.wrap.addClass("cbp-popup-loading"),e(n.dataArray[n.current].element).closest(".cbp-item").removeClass("cbp-singlePageInline-active"),n.openSinglePageInline(o.blocks,o.currentBlock,o.fromOpen)):(n.matrice=[-1,-1],n.cubeportfolio._layout(),n.cubeportfolio._processStyle(n.cubeportfolio.transition),n.cubeportfolio._resizeMainContainer(n.cubeportfolio.transition),n.wrap.css({height:0}),e(n.dataArray[n.current].element).parents(".cbp-item").removeClass("cbp-singlePageInline-active"),"ie8"===n.cubeportfolio.browser||"ie9"===n.cubeportfolio.browser?(n.content.html(""),n.wrap.detach(),n.cubeportfolio.$obj.removeClass("cbp-popup-isOpening"),"promise"===i&&e.isFunction(o.callback)&&o.callback.call(n.cubeportfolio)):n.wrap.one(n.cubeportfolio.transitionEnd,function(){n.content.html(""),n.wrap.detach(),n.cubeportfolio.$obj.removeClass("cbp-popup-isOpening"),"promise"===i&&e.isFunction(o.callback)&&o.callback.call(n.cubeportfolio)}),n.options.singlePageInlineInFocus&&e("body, html").animate({scrollTop:n.scrollTop})):"singlePage"===n.type?(n.resetWrap(),n.wrap.removeClass("cbp-popup-ready"),("android"===n.cubeportfolio.browser||"ios"===n.cubeportfolio.browser)&&(e("html").css({position:""}),n.navigationWrap.appendTo(n.wrap),n.navigationMobile.remove()),e(t).scrollTop(n.scrollTop),setTimeout(function(){n.stopScroll=!0,n.navigationWrap.css({top:n.wrap.scrollTop()}),n.wrap.removeClass("cbp-popup-singlePage-open cbp-popup-singlePage-sticky"),("ie8"===n.cubeportfolio.browser||"ie9"===n.cubeportfolio.browser)&&(n.content.html(""),n.wrap.detach(),e("html").css({overflow:"",paddingRight:"",position:""}),n.navigationWrap.removeAttr("style"))},0),n.wrap.one(n.cubeportfolio.transitionEnd,function(){n.content.html(""),n.wrap.detach(),e("html").css({overflow:"",paddingRight:"",position:""}),n.navigationWrap.removeAttr("style")})):(n.originalStyle?e("html").attr("style",n.originalStyle):e("html").css({overflow:"",paddingRight:""}),e(t).scrollTop(n.scrollTop),n.content.html(""),n.wrap.detach())},tooggleLoading:function(e){var t=this;t.stopEvents=e,t.wrap[e?"addClass":"removeClass"]("cbp-popup-loading")},resizeImage:function(){if(this.isOpen){var i=e(t).height(),o=this.content.find("img"),n=parseInt(o.css("margin-top"),10)+parseInt(o.css("margin-bottom"),10);o.css("max-height",i-n+"px")}},preloadNearbyImages:function(){var t,i,o=[],n=this;o.push(n.getIndex(n.current+1)),o.push(n.getIndex(n.current+2)),o.push(n.getIndex(n.current+3)),o.push(n.getIndex(n.current-1)),o.push(n.getIndex(n.current-2)),o.push(n.getIndex(n.current-3));for(var a=o.length-1;a>=0;a--)"isImage"===n.dataArray[o[a]].type&&(i=n.dataArray[o[a]].src,t=new Image,e('<img src="'+i+'">').is("img:uncached")&&(t.src=i))}},l={_main:function(t,i,o){var n=this;n.styleQueue=[],n.isAnimating=!1,n.defaultFilter="*",n.registeredEvents=[],e.isFunction(o)&&n._registerEvent("initFinish",o,!0),n._extendOptions(i),n.obj=t,n.$obj=e(t),n.width=n.$obj.width(),n.$obj.addClass("cbp cbp-loading"),n.$obj.children().first().hasClass("cbp-item")&&n.$obj.wrapInner("<div/>"),n.$ul=n.$obj.children(),n.$ul.addClass("cbp-wrapper"),("lazyLoading"===n.options.displayType||"fadeIn"===n.options.displayType)&&n.$ul.css({opacity:0}),"fadeInToTop"===n.options.displayType&&n.$ul.css({opacity:0,marginTop:30}),n._browserInfo(),n._initCSSandEvents(),n._prepareBlocks(),-1!==e.inArray(n.options.displayType,["lazyLoading","sequentially","bottomToTop","fadeInToTop"])?n._load(n.$obj,n._beforeDisplay):n._beforeDisplay()},_extendOptions:function(t){var i=this;t&&!t.hasOwnProperty("lightboxCounter")&&t.lightboxShowCounter===!1&&(t.lightboxCounter=""),t&&!t.hasOwnProperty("singlePageCounter")&&t.singlePageShowCounter===!1&&(t.singlePageCounter=""),i.options=e.extend({},e.fn.cubeportfolio.options,t)},_browserInfo:function(){var e,i,o=this,n=navigator.appVersion;return o.browser=-1!==n.indexOf("MSIE 8.")?"ie8":-1!==n.indexOf("MSIE 9.")?"ie9":-1!==n.indexOf("MSIE 10.")?"ie10":t.ActiveXObject||"ActiveXObject"in t?"ie11":/android/gi.test(n)?"android":/iphone|ipad|ipod/gi.test(n)?"ios":/chrome/gi.test(n)?"chrome":"",o.browser&&o.$obj.addClass("cbp-"+o.browser),e=o._styleSupport("transition"),i=o._styleSupport("animation"),o.transition=o.transitionByFilter=e?"css":"animate","animate"===o.transition?(o.supportTransform="_withCSS2",void 0):(o.transitionEnd={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"}[e],o.animationEnd={WebkitAnimation:"webkitAnimationEnd",MozAnimation:"Animationend",OAnimation:"oAnimationEnd oanimationend",animation:"animationend"}[i],o.supportCSSTransform=o._styleSupport("transform"),o.supportCSSTransform?(o._cssHooks(),o.supportTransform="_withCSS3"):o.supportTransform="_withCSS2",void 0)},_styleSupport:function(e){var t,o,n,a=e.charAt(0).toUpperCase()+e.slice(1),s=["Moz","Webkit","O","ms"],l=i.createElement("div");if(e in l.style)o=e;else for(n=s.length-1;n>=0;n--)if(t=s[n]+a,t in l.style){o=t;break}return l=null,o},_cssHooks:function(){function t(t,n,a){var s,l,r,p,c,d,u=e(t),b=u.data("transformFn")||{},g={},f={};g[a]=n,e.extend(b,g);for(s in b)b.hasOwnProperty(s)&&(l=b[s],f[s]=i[s](l));r=f.translate||"",p=f.scale||"",d=f.skew||"",c=r+p+d,u.data("transformFn",b),t.style[o.supportCSSTransform]=c}var i,o=this;i=o._has3d()?{translate:function(e){return"translate3d("+e[0]+"px, "+e[1]+"px, 0) "},scale:function(e){return"scale3d("+e+", "+e+", 1) "},skew:function(e){return"skew("+e[0]+"deg, "+e[1]+"deg) "}}:{translate:function(e){return"translate("+e[0]+"px, "+e[1]+"px) "},scale:function(e){return"scale("+e+") "},skew:function(e){return"skew("+e[0]+"deg, "+e[1]+"deg) "}},e.cssNumber.scale=!0,e.cssHooks.scale={set:function(e,i){"string"==typeof i&&(i=parseFloat(i)),t(e,i,"scale")},get:function(t){var i=e.data(t,"transformFn");return i&&i.scale?i.scale:1}},e.fx.step.scale=function(t){e.cssHooks.scale.set(t.elem,t.now+t.unit)},e.cssNumber.translate=!0,e.cssHooks.translate={set:function(e,i){t(e,i,"translate")},get:function(t){var i=e.data(t,"transformFn");return i&&i.translate?i.translate:[0,0]}},e.cssNumber.skew=!0,e.cssHooks.skew={set:function(e,i){t(e,i,"skew")},get:function(t){var i=e.data(t,"transformFn");return i&&i.skew?i.skew:[0,0]}}},_has3d:function(){var e,n,a=i.createElement("p"),s={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};i.body.insertBefore(a,null);for(e in s)s.hasOwnProperty(e)&&a.style[e]!==o&&(a.style[e]="translate3d(1px,1px,1px)",n=t.getComputedStyle(a).getPropertyValue(s[e]));return i.body.removeChild(a),n!==o&&n.length>0&&"none"!==n},_prepareBlocks:function(){var e=this;e.blocks=e.$ul.children(".cbp-item"),e.blocksAvailable=e.blocks,e.options.caption&&(e.blocks.wrapInner('<div class="cbp-item-wrapper"></div>'),e._captionInit())},_captionInit:function(){var e=this;("ie8"===e.browser||"ie9"===e.browser)&&(e.options.caption="minimal"),e.$obj.addClass("cbp-caption-"+e.options.caption)},_captionDestroy:function(){var e=this;e.$obj.removeClass("cbp-caption-"+e.options.caption)},_initCSSandEvents:function(){var i,o,n,s=this,l=e(t),r=l.width();l.on("resize"+a,function(){i&&clearTimeout(i),i=setTimeout(function(){n=l.width(),r!==n&&(r=n,s.$obj.removeClass("cbp-no-transition cbp-appendItems-loading"),"responsive"===s.options.gridAdjustment&&s._responsiveLayout(),s._layout(),s._processStyle(s.transition),s._resizeMainContainer(s.transition),s.lightbox&&s.lightbox.resizeImage(),"slider"===s.options.layoutMode&&s._updateSlider(),s.singlePage&&s.singlePage.options.singlePageStickyNavigation&&(o=s.singlePage.wrap[0].clientWidth,o>0&&(s.singlePage.navigationWrap.width(o),s.singlePage.navigation.width(o))),s.singlePageInline&&s.singlePageInline.isOpen&&s.singlePageInline.close())},50)})},_load:function(t,i,o){var n,a=this,s=[],l=0;o=o||[],t.find("img:uncached").each(function(){s.push(this.src)}),n=s.length,0===n&&i.apply(a,o),e.each(s,function(t,s){var r=new Image;e(r).one("load.cbp error.cbp",function(){return e(this).off("load.cbp error.cbp"),l++,l===n?(i.apply(a,o),!1):void 0}),r.src=s})},_beforeDisplay:function(){var e=this;e.options.animationType&&"grid"===e.options.layoutMode&&(("ie8"===e.browser||"ie9"===e.browser)&&(e.options.animationType="fadeOut"),e["_"+e.options.animationType+"Init"]&&e["_"+e.options.animationType+"Init"](),e.$obj.addClass("cbp-animation-"+e.options.animationType)),e.localColumnWidth=e.blocks.eq(0).outerWidth()+e.options.gapVertical,e._filterFromUrl(),""===e.options.defaultFilter||"*"===e.options.defaultFilter?e._display():e.filter(e.options.defaultFilter,function(){e._display()},e)},_filterFromUrl:function(){var e=this,t=/#cbpf=(.*?)([#|?&]|$)/gi.exec(location.href);null!==t&&(e.options.defaultFilter=t[1])},_display:function(){var t,o,n=this,l=e(i.body);n.getColumnsType=e.isArray(n.options.mediaQueries)?"_getColumnsBreakpoints":"_getColumnsAuto","responsive"===n.options.gridAdjustment&&n._responsiveLayout(),n["_"+n.options.layoutMode+"Markup"](),n._layout(),n._processStyle("css"),n._resizeMainContainer("css"),("lazyLoading"===n.options.displayType||"fadeIn"===n.options.displayType)&&n.$ul.animate({opacity:1},n.options.displayTypeSpeed),"fadeInToTop"===n.options.displayType&&n.$ul.animate({opacity:1,marginTop:0},n.options.displayTypeSpeed,function(){n.$ul.css({marginTop:0}),n.$ulClone&&n.$ulClone.css({marginTop:0})}),"sequentially"===n.options.displayType&&(t=0,n.blocks.css("opacity",0),function r(){o=n.blocksAvailable.eq(t++),o.length&&(o.animate({opacity:1}),setTimeout(r,n.options.displayTypeSpeed))}()),"bottomToTop"===n.options.displayType&&(t=0,n.blocks.css({opacity:0,marginTop:80}),function p(){o=n.blocksAvailable.eq(t++),o.length?(o.animate({opacity:1,marginTop:0},400),setTimeout(p,n.options.displayTypeSpeed)):(n.blocks.css({marginTop:0}),n.blocksClone&&n.blocksClone.css({marginTop:0}))}()),n._forceReflow(n.$obj).removeClass("cbp-loading"),n.$obj.addClass("cbp-ready"),n.lightbox=null,n.$obj.find(n.options.lightboxDelegate)&&(n.lightbox=Object.create(s),n.lightbox.init(n,"lightbox"),n.$obj.on("click"+a,n.options.lightboxDelegate,function(t){t.preventDefault();var i=e(this);i.closest(e(".cbp-popup-singlePageInline")).length||n.lightbox.openLightbox(n.blocksAvailable.find(n.options.lightboxDelegate),this)})),1!=l.data("cbpLightboxIsOn")&&(l.on("click"+a,n.options.lightboxDelegate,function(t){t.preventDefault();var i=e(this),o=i.data("cbpLightbox");i.closest(e(".cbp-wrapper")).length||(o?n.lightbox.openLightbox(e(n.options.lightboxDelegate).filter("[data-cbp-lightbox="+o+"]"),this):n.lightbox.openLightbox(i,this))}),l.data("cbpLightboxIsOn",!0)),n.singlePage=null,n.$obj.find(n.options.singlePageDelegate)&&(n.singlePage=Object.create(s),n.singlePage.init(n,"singlePage"),n.$obj.on("click"+a,n.options.singlePageDelegate,function(e){e.preventDefault(),n.singlePage.openSinglePage(n.blocksAvailable.find(n.options.singlePageDelegate),this)})),1!=l.data("cbpSinglePageIsOn")&&(l.on("click"+a,n.options.singlePageDelegate,function(t){t.preventDefault();var i=e(this),o=i.data("cbpSinglepage");i.closest(e(".cbp")).length||(o?n.singlePage.openSinglePage(e(n.options.singlePageDelegate).filter("[data-cbp-singlePage="+o+"]"),this):n.singlePage.openSinglePage(i,this))}),l.data("cbpSinglePageIsOn",!0)),n.singlePageInline=null,n.$obj.find(n.options.singlePageInlineDelegate)&&(n.singlePageInline=Object.create(s),n.singlePageInline.init(n,"singlePageInline"),n.$obj.on("click"+a,n.options.singlePageInlineDelegate,function(e){e.preventDefault(),n.singlePageInline.openSinglePageInline(n.blocksAvailable,this)})),n._triggerEvent("initFinish"),n.$obj.trigger("initComplete"+a)},_forceReflow:function(e){return e.offset(),e},_layout:function(){var e=this;e["_"+e.options.layoutMode+"LayoutReset"](),e["_"+e.options.layoutMode+"Layout"](),e.$obj.removeClass(function(e,t){return(t.match(/\bcbp-cols-\d+/gi)||[]).join(" ")}),e.$obj.addClass("cbp-cols-"+e.cols)},_sliderMarkup:function(){var t=this;t.sliderStopEvents=!1,t.sliderActive=0,t.$obj.addClass("cbp-mode-slider"),t.$ul.wrap('<div class="cbp-wrapper-outer"></div>'),t.nav=e("<div/>",{"class":"cbp-nav"}),t.nav.on("click"+a,"[data-slider-action]",function(i){if(i.preventDefault(),i.stopImmediatePropagation(),i.stopPropagation(),!t.sliderStopEvents){var o=e(this),n=o.attr("data-slider-action");t["_"+n+"Slider"]&&t["_"+n+"Slider"](o)}}),t.options.showNavigation&&(t.controls=e("<div/>",{"class":"cbp-nav-controls"}),t.navPrev=e("<div/>",{"class":"cbp-nav-prev","data-slider-action":"prev"}).appendTo(t.controls),t.navNext=e("<div/>",{"class":"cbp-nav-next","data-slider-action":"next"}).appendTo(t.controls),t.controls.appendTo(t.nav)),t.options.showPagination&&(t.navPagination=e("<div/>",{"class":"cbp-nav-pagination"}).appendTo(t.nav)),(t.controls||t.navPagination)&&t.nav.appendTo(t.$obj),t._updateSliderPagination(),t.options.auto&&(t.options.autoPauseOnHover&&(t.mouseIsEntered=!1,t.$obj.on("mouseenter"+a,function(){t.mouseIsEntered=!0,t._stopSliderAuto()}).on("mouseleave"+a,function(){t.mouseIsEntered=!1,t._startSliderAuto()})),t._startSliderAuto()),t.options.drag&&"ie8"!==t.browser&&"ie9"!==t.browser&&t._dragSlider()},_updateSlider:function(){var e=this;e._updateSliderPosition(),e._updateSliderPagination()},_updateSliderPagination:function(){var t,i,o=this;if(o.options.showPagination){for(t=Math.ceil(o.blocksAvailable.length/o.cols),o.navPagination.empty(),i=t-1;i>=0;i--)e("<div/>",{"class":"cbp-nav-pagination-item","data-slider-action":"jumpTo"}).appendTo(o.navPagination);o.navPaginationItems=o.navPagination.children()}o._enableDisableNavSlider()},_destroySlider:function(){var e=this;"slider"===e.options.layoutMode&&(e.$obj.off("click"+a),e.navNext.remove(),e.navPrev.remove(),e.navPagination.remove())},_nextSlider:function(){var e=this;if(e._isEndSlider()){if(!e.options.rewindNav)return;e.sliderActive=0}else e.options.scrollByPage?e.sliderActive=Math.min(e.sliderActive+e.cols,e.blocksAvailable.length-e.cols):e.sliderActive+=1;e._goToSlider()},_prevSlider:function(){var e=this;if(e._isStartSlider()){if(!e.options.rewindNav)return;e.sliderActive=e.blocksAvailable.length-e.cols}else e.options.scrollByPage?e.sliderActive=Math.max(0,e.sliderActive-e.cols):e.sliderActive-=1;e._goToSlider()},_jumpToSlider:function(e){var t=this,i=Math.min(e.index()*t.cols,t.blocksAvailable.length-t.cols);i!==t.sliderActive&&(t.sliderActive=i,t._goToSlider())},_jumpDragToSlider:function(e){var t,i,o,n=this,a=e>0?!0:!1;n.options.scrollByPage?(t=n.cols*n.localColumnWidth,i=n.cols):(t=n.localColumnWidth,i=1),e=Math.abs(e),o=Math.floor(e/t)*i,e%t>20&&(o+=i),n.sliderActive=a?Math.min(n.sliderActive+o,n.blocksAvailable.length-n.cols):Math.max(0,n.sliderActive-o),n._goToSlider()},_isStartSlider:function(){return 0===this.sliderActive},_isEndSlider:function(){var e=this;return e.sliderActive+e.cols>e.blocksAvailable.length-1},_goToSlider:function(){var e=this;e._enableDisableNavSlider(),e._updateSliderPosition()},_startSliderAuto:function(){var e=this;return e.isDrag?(e._stopSliderAuto(),void 0):(e.timeout=setTimeout(function(){e._nextSlider(),e._startSliderAuto()},e.options.autoTimeout),void 0)},_stopSliderAuto:function(){clearTimeout(this.timeout)},_enableDisableNavSlider:function(){var e,t,i=this;i.options.showNavigation&&(i.options.rewindNav||(t=i._isStartSlider()?"addClass":"removeClass",i.navPrev[t]("cbp-nav-stop"),t=i._isEndSlider()?"addClass":"removeClass",i.navNext[t]("cbp-nav-stop"))),i.options.showPagination&&(e=i.options.scrollByPage?Math.ceil(i.sliderActive/i.cols):i._isEndSlider()?i.navPaginationItems.length-1:Math.floor(i.sliderActive/i.cols),i.navPaginationItems.removeClass("cbp-nav-pagination-active").eq(e).addClass("cbp-nav-pagination-active"))},_sliderLayout:function(){var t=this;t.blocksAvailable.each(function(i,o){var n=e(o),a=0;t.styleQueue.push({$el:n,style:t[t.supportTransform](t.localColumnWidth*i,0)}),a+=n.outerHeight(!0)+t.options.gapHorizontal,t.colVert.push(a)}),t.sliderColVert=t.colVert.slice(t.sliderActive,t.sliderActive+t.cols),t.ulWidth=t.localColumnWidth*t.blocksAvailable.length-t.options.gapVertical,t.$ul.width(t.ulWidth)},_updateSliderPosition:function(){var e=this,t=-e.sliderActive*e.localColumnWidth,i=e[e.supportTransform](t,0);e.$ul[e.transition](i),e.sliderColVert=e.colVert.slice(e.sliderActive,e.sliderActive+e.cols),e._resizeMainContainer(e.transition)},_dragSlider:function(){function o(t){return C?g=t:t.preventDefault(),f.options.auto&&f._stopSliderAuto(),v?(e(d).one("click"+a,function(){return!1
}),void 0):(d=e(t.target),p=r(t).x,c=0,u=-f.sliderActive*f.localColumnWidth,b=f.localColumnWidth*(f.blocksAvailable.length-f.cols),h.on(y.move,s),h.on(y.end,n),f.$obj.addClass("cbp-mode-slider-dragStart"),void 0)}function n(){f.$obj.removeClass("cbp-mode-slider-dragStart"),v=!0,0!==c?(d.one("click"+a,function(){return!1}),f._jumpDragToSlider(c),f.$ul.one(f.transitionEnd,l)):l.call(f),h.off(y.move),h.off(y.end)}function s(e){c=p-r(e).x,(c>8||-8>c)&&e.preventDefault(),f.isDrag=!0;var t=u-c;0>c&&u>c?t=(u-c)/5:c>0&&-b>u-c&&(t=-b+(b+u-c)/5);var i=m(t,0);f.$ul[f.transition](i)}function l(){if(v=!1,f.isDrag=!1,f.options.auto){if(f.mouseIsEntered)return;f._startSliderAuto()}}function r(e){return{x:e.pageX||e.originalEvent.touches[0].pageX,y:e.pageY||e.originalEvent.touches[0].pageY}}var p,c,d,u,b,g,f=this,h=e(i),m=f[f.supportTransform],v=!1,y={},C=!1;f.isDrag=!1,"ontouchstart"in t||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?(y={start:"touchstart"+a,move:"touchmove"+a,end:"touchend"+a},C=!0):y={start:"mousedown"+a,move:"mousemove"+a,end:"mouseup"+a},f.$ul.on(y.start,o)},_sliderLayoutReset:function(){var e=this;e.colVert=[]},_gridMarkup:function(){},_gridLayout:function(){var t=this;t.blocksAvailable.each(function(i,o){var n=e(o),a=Math.ceil(n.outerWidth()/t.localColumnWidth),s=0;if(a=Math.min(a,t.cols),t.singlePageInline&&i>=t.singlePageInline.matrice[0]&&i<=t.singlePageInline.matrice[1]&&(s=t.singlePageInline.height),1===a)t._placeBlocks(n,t.colVert,s);else{var l,r,p=t.cols+1-a,c=[];for(r=0;p>r;r++)l=t.colVert.slice(r,r+a),c[r]=Math.max.apply(Math,l);t._placeBlocks(n,c,s)}})},_gridLayoutReset:function(){var e,t=this;for("alignCenter"===t.options.gridAdjustment?(t.$obj.attr("style",""),t.width=t.$obj.width(),t.cols=Math.max(Math.floor((t.width+t.options.gapVertical)/t.localColumnWidth),1),t.width=t.cols*t.localColumnWidth-t.options.gapVertical,t.$obj.css("max-width",t.width)):(t.width=t.$obj.width(),t.cols=Math.max(Math.floor((t.width+t.options.gapVertical)/t.localColumnWidth),1)),t.colVert=[],e=t.cols;e--;)t.colVert.push(0)},_responsiveLayout:function(){var e,t,i=this;i.columnWidthCache?i.localColumnWidth=i.columnWidthCache:i.columnWidthCache=i.localColumnWidth,i.width=i.$obj.outerWidth()+i.options.gapVertical,i.cols=i[i.getColumnsType](),e=i.width-i.options.gapVertical*i.cols,i.localColumnWidth=parseInt(e/i.cols,10)+i.options.gapVertical,t=i.localColumnWidth-i.options.gapVertical+"px",i.blocks.each(function(e,o){o.style.width=t,i.blocksClone&&(i.blocksClone.eq(e)[0].style.width=t)})},_getColumnsAuto:function(){var e=this;return Math.max(Math.round(e.width/e.localColumnWidth),1)},_getColumnsBreakpoints:function(){var t,i=this,n=i.width-i.options.gapVertical;return e.each(i.options.mediaQueries,function(e,i){return n>=i.width?(t=i.cols,!1):void 0}),t===o&&(t=i.options.mediaQueries[i.options.mediaQueries.length-1].cols),t},_resizeMainContainer:function(e,t){var i,o=this,n=o.sliderColVert||o.colVert;t=t||0,i=Math.max.apply(Math,n)+t,i!==o.height&&(o.$obj[e]({height:i-o.options.gapHorizontal},400),o.height=i,o.$obj.one(o.transitionEnd,function(){o.$obj.trigger("pluginResize.cbp")}))},_processStyle:function(e){var t,i=this;for(t=i.styleQueue.length-1;t>=0;t--)i.styleQueue[t].$el[e](i.styleQueue[t].style);i.styleQueue=[]},_placeBlocks:function(e,t,i){var o,n,a,s,l,r,p=this,c=Math.min.apply(Math,t),d=0;for(l=0,r=t.length;r>l;l++)if(t[l]===c){d=l;break}for(p.singlePageInline&&0!==i&&(p.singlePageInline.top=c),c+=i,o=Math.round(p.localColumnWidth*d),n=Math.round(c),p.styleQueue.push({$el:e,style:p[p.supportTransform](o,n)}),a=c+e.outerHeight()+p.options.gapHorizontal,s=p.cols+1-r,l=0;s>l;l++)p.colVert[d+l]=a},_withCSS2:function(e,t){return{left:e,top:t}},_withCSS3:function(e,t){return{translate:[e,t]}},_duplicateContent:function(e){var t=this;t.$ulClone=t.$ul.clone(),t.blocksClone=t.$ulClone.children(),t.$ulClone.css(e),t.ulHidden="clone",t.$obj.append(t.$ulClone)},_fadeOutFilter:function(e,t,i){var o=this;"*"!==i&&(t=t.filter(i),e=o.blocks.not(".cbp-item-hidden").not(i).addClass("cbp-item-hidden")),t.removeClass("cbp-item-hidden"),o.blocksAvailable=o.blocks.filter(i),e.length&&o.styleQueue.push({$el:e,style:{opacity:0}}),t.length&&o.styleQueue.push({$el:t,style:{opacity:1}}),o._layout(),o._processStyle(o.transitionByFilter),o._resizeMainContainer(o.transition),setTimeout(function(){o._filterFinish()},400)},_quicksandFilter:function(e,t,i){var o=this;"*"!==i&&(t=t.filter(i),e=o.blocks.not(".cbp-item-hidden").not(i).addClass("cbp-item-hidden")),t.removeClass("cbp-item-hidden"),o.blocksAvailable=o.blocks.filter(i),e.length&&o.styleQueue.push({$el:e,style:{scale:.01,opacity:0}}),t.length&&o.styleQueue.push({$el:t,style:{scale:1,opacity:1}}),o._layout(),o._processStyle(o.transitionByFilter),o._resizeMainContainer(o.transition),setTimeout(function(){o._filterFinish()},400)},_flipOutFilter:function(e,t,i){var o=this;"*"!==i&&(t=t.filter(i),e=o.blocks.not(".cbp-item-hidden").not(i).addClass("cbp-item-hidden")),t.removeClass("cbp-item-hidden"),o.blocksAvailable=o.blocks.filter(i),e.length&&e.find(".cbp-item-wrapper").removeClass("cbp-animation-flipOut-in").addClass("cbp-animation-flipOut-out"),t.length&&t.find(".cbp-item-wrapper").removeClass("cbp-animation-flipOut-out").addClass("cbp-animation-flipOut-in"),o._layout(),o._processStyle(o.transitionByFilter),o._resizeMainContainer(o.transition),setTimeout(function(){o._filterFinish()},400)},_flipBottomFilter:function(e,t,i){var o=this;"*"!==i&&(t=t.filter(i),e=o.blocks.not(".cbp-item-hidden").not(i).addClass("cbp-item-hidden")),t.removeClass("cbp-item-hidden"),o.blocksAvailable=o.blocks.filter(i),e.length&&e.find(".cbp-item-wrapper").removeClass("cbp-animation-flipBottom-in").addClass("cbp-animation-flipBottom-out"),t.length&&t.find(".cbp-item-wrapper").removeClass("cbp-animation-flipBottom-out").addClass("cbp-animation-flipBottom-in"),o._layout(),o._processStyle(o.transitionByFilter),o._resizeMainContainer(o.transition),setTimeout(function(){o._filterFinish()},400)},_scaleSidesFilter:function(e,t,i){var o=this;"*"!==i&&(t=t.filter(i),e=o.blocks.not(".cbp-item-hidden").not(i).addClass("cbp-item-hidden")),t.removeClass("cbp-item-hidden"),o.blocksAvailable=o.blocks.filter(i),e.length&&e.find(".cbp-item-wrapper").removeClass("cbp-animation-scaleSides-in").addClass("cbp-animation-scaleSides-out"),t.length&&t.find(".cbp-item-wrapper").removeClass("cbp-animation-scaleSides-out").addClass("cbp-animation-scaleSides-in"),o._layout(),o._processStyle(o.transitionByFilter),o._resizeMainContainer(o.transition),setTimeout(function(){o._filterFinish()},400)},_skewFilter:function(e,t,i){var o=this;"*"!==i&&(t=t.filter(i),e=o.blocks.not(".cbp-item-hidden").not(i).addClass("cbp-item-hidden")),t.removeClass("cbp-item-hidden"),o.blocksAvailable=o.blocks.filter(i),e.length&&o.styleQueue.push({$el:e,style:{skew:[50,0],scale:.01,opacity:0}}),t.length&&o.styleQueue.push({$el:t,style:{skew:[0,0],scale:1,opacity:1}}),o._layout(),o._processStyle(o.transitionByFilter),o._resizeMainContainer(o.transition),setTimeout(function(){o._filterFinish()},400)},_sequentiallyInit:function(){this.transitionByFilter="css"},_sequentiallyFilter:function(e,t,i){var o=this,n=o.blocksAvailable;o.blocksAvailable=o.blocks.filter(i),o.$obj.addClass("cbp-no-transition"),n[o.transition]({top:-30,opacity:0}),setTimeout(function(){"*"!==i&&(t=t.filter(i),e=o.blocks.not(".cbp-item-hidden").not(i).addClass("cbp-item-hidden")),t.removeClass("cbp-item-hidden"),e.length&&e.css({display:"none"}),t.length&&t.css("display","block"),o._layout(),o._processStyle(o.transitionByFilter),o._resizeMainContainer(o.transition);var n,a=0;!function s(){n=o.blocksAvailable.eq(a++),n.length?(n[o.transition]({top:0,opacity:1}),setTimeout(s,130)):setTimeout(function(){o._filterFinish()},600)}()},600)},_fadeOutTopInit:function(){this.transitionByFilter="css"},_fadeOutTopFilter:function(e,t,i){var o=this;o.blocksAvailable=o.blocks.filter(i),o.$ul[o.transition]({top:-30,opacity:0}),o.$obj.addClass("cbp-no-transition"),setTimeout(function(){"*"!==i&&(t=t.filter(i),e=o.blocks.not(".cbp-item-hidden").not(i).addClass("cbp-item-hidden")),t.removeClass("cbp-item-hidden"),e.length&&e.css("opacity",0),t.length&&t.css("opacity",1),o._layout(),o._processStyle(o.transitionByFilter),o._resizeMainContainer(o.transition),o.$ul[o.transition]({top:0,opacity:1}),setTimeout(function(){o._filterFinish()},400)},400)},_boxShadowInit:function(){var e=this;e.blocksAvailable.append('<div class="cbp-animation-boxShadowMask"></div>')},_boxShadowFilter:function(e,t,i){var o=this;"*"!==i&&(t=t.filter(i),e=o.blocks.not(".cbp-item-hidden").not(i).addClass("cbp-item-hidden")),t.removeClass("cbp-item-hidden");var n=o.blocks.find(".cbp-animation-boxShadowMask");n.addClass("cbp-animation-boxShadowShow"),n.removeClass("cbp-animation-boxShadowActive cbp-animation-boxShadowInactive"),o.blocksAvailable=o.blocks.filter(i);var a={};e.length&&(e.find(".cbp-animation-boxShadowMask").addClass("cbp-animation-boxShadowActive"),o.styleQueue.push({$el:e,style:{opacity:0}}),a=e.last()),t.length&&(t.find(".cbp-animation-boxShadowMask").addClass("cbp-animation-boxShadowInactive"),o.styleQueue.push({$el:t,style:{opacity:1}}),a=t.last()),o._layout(),a.length?a.one(o.transitionEnd,function(){n.removeClass("cbp-animation-boxShadowShow"),o._filterFinish()}):(n.removeClass("cbp-animation-boxShadowShow"),o._filterFinish()),o._processStyle(o.transitionByFilter),o._resizeMainContainer(o.transition)},_bounceLeftInit:function(){var e=this;e._duplicateContent({left:"-100%",opacity:0}),e.transitionByFilter="css",e.$ul.addClass("cbp-wrapper-front")},_bounceLeftFilter:function(e,t,i){var o,n,a,s=this;s.$obj.addClass("cbp-no-transition"),"clone"===s.ulHidden?(s.ulHidden="first",o=s.$ulClone,a=s.$ul,n=s.blocksClone):(s.ulHidden="clone",o=s.$ul,a=s.$ulClone,n=s.blocks),t=n.filter(".cbp-item-hidden"),"*"!==i&&(t=t.filter(i),n.not(".cbp-item-hidden").not(i).addClass("cbp-item-hidden")),t.removeClass("cbp-item-hidden"),s.blocksAvailable=n.filter(i),s._layout(),a[s.transition]({left:"-100%",opacity:0}).removeClass("cbp-wrapper-front").addClass("cbp-wrapper-back"),o[s.transition]({left:0,opacity:1}).addClass("cbp-wrapper-front").removeClass("cbp-wrapper-back"),s._processStyle(s.transitionByFilter),s._resizeMainContainer(s.transition),setTimeout(function(){s._filterFinish()},400)},_bounceTopInit:function(){var e=this;e._duplicateContent({top:"-100%",opacity:0}),e.transitionByFilter="css",e.$ul.addClass("cbp-wrapper-front")},_bounceTopFilter:function(e,t,i){var o,n,a,s=this;s.$obj.addClass("cbp-no-transition"),"clone"===s.ulHidden?(s.ulHidden="first",o=s.$ulClone,a=s.$ul,n=s.blocksClone):(s.ulHidden="clone",o=s.$ul,a=s.$ulClone,n=s.blocks),t=n.filter(".cbp-item-hidden"),"*"!==i&&(t=t.filter(i),n.not(".cbp-item-hidden").not(i).addClass("cbp-item-hidden")),t.removeClass("cbp-item-hidden"),s.blocksAvailable=n.filter(i),s._layout(),a[s.transition]({top:"-100%",opacity:0}).removeClass("cbp-wrapper-front").addClass("cbp-wrapper-back"),o[s.transition]({top:0,opacity:1}).addClass("cbp-wrapper-front").removeClass("cbp-wrapper-back"),s._processStyle(s.transitionByFilter),s._resizeMainContainer(s.transition),setTimeout(function(){s._filterFinish()},400)},_bounceBottomInit:function(){var e=this;e._duplicateContent({top:"100%",opacity:0}),e.transitionByFilter="css"},_bounceBottomFilter:function(e,t,i){var o,n,a,s=this;s.$obj.addClass("cbp-no-transition"),"clone"===s.ulHidden?(s.ulHidden="first",o=s.$ulClone,a=s.$ul,n=s.blocksClone):(s.ulHidden="clone",o=s.$ul,a=s.$ulClone,n=s.blocks),t=n.filter(".cbp-item-hidden"),"*"!==i&&(t=t.filter(i),n.not(".cbp-item-hidden").not(i).addClass("cbp-item-hidden")),t.removeClass("cbp-item-hidden"),s.blocksAvailable=n.filter(i),s._layout(),a[s.transition]({top:"100%",opacity:0}).removeClass("cbp-wrapper-front").addClass("cbp-wrapper-back"),o[s.transition]({top:0,opacity:1}).addClass("cbp-wrapper-front").removeClass("cbp-wrapper-back"),s._processStyle(s.transitionByFilter),s._resizeMainContainer(s.transition),setTimeout(function(){s._filterFinish()},400)},_moveLeftInit:function(){var e=this;e._duplicateContent({left:"100%",opacity:0}),e.$ulClone.addClass("no-trans"),e.transitionByFilter="css"},_moveLeftFilter:function(e,t,i){var o,n,a,s=this;"*"!==i&&(t=t.filter(i)),t.removeClass("cbp-item-hidden"),s.$obj.addClass("cbp-no-transition"),"clone"===s.ulHidden?(s.ulHidden="first",o=s.$ulClone,a=s.$ul,n=s.blocksClone):(s.ulHidden="clone",o=s.$ul,a=s.$ulClone,n=s.blocks),n.css("opacity",0),n.addClass("cbp-item-hidden"),s.blocksAvailable=n.filter(i),s.blocksAvailable.css("opacity",1),s.blocksAvailable.removeClass("cbp-item-hidden"),s._layout(),a[s.transition]({left:"-100%",opacity:0}),o.removeClass("no-trans"),"css"===s.transition?(o[s.transition]({left:0,opacity:1}),a.one(s.transitionEnd,function(){a.addClass("no-trans").css({left:"100%",opacity:0}),s._filterFinish()})):o[s.transition]({left:0,opacity:1},function(){a.addClass("no-trans").css({left:"100%",opacity:0}),s._filterFinish()}),s._processStyle(s.transitionByFilter),s._resizeMainContainer(s.transition)},_slideLeftInit:function(){var e=this;e._duplicateContent({}),e.$ul.addClass("cbp-wrapper-front"),e.$ulClone.css("opacity",0),e.transitionByFilter="css"},_slideLeftFilter:function(e,t,i){var o,n,a,s,l=this;l.blocks.show(),l.blocksClone.show(),"*"!==i&&(t=t.filter(i)),t.removeClass("cbp-item-hidden"),l.$obj.addClass("cbp-no-transition"),l.blocks.find(".cbp-item-wrapper").removeClass("cbp-animation-slideLeft-out cbp-animation-slideLeft-in"),l.blocksClone.find(".cbp-item-wrapper").removeClass("cbp-animation-slideLeft-out cbp-animation-slideLeft-in"),l.$ul.css({opacity:1}),l.$ulClone.css({opacity:1}),"clone"===l.ulHidden?(l.ulHidden="first",n=l.blocks,a=l.blocksClone,o=l.blocksClone,l.$ul.removeClass("cbp-wrapper-front"),l.$ulClone.addClass("cbp-wrapper-front")):(l.ulHidden="clone",n=l.blocksClone,a=l.blocks,o=l.blocks,l.$ul.addClass("cbp-wrapper-front"),l.$ulClone.removeClass("cbp-wrapper-front")),o.css("opacity",0),o.addClass("cbp-item-hidden"),l.blocksAvailable=o.filter(i),l.blocksAvailable.css({opacity:1}),l.blocksAvailable.removeClass("cbp-item-hidden"),l._layout(),"css"===l.transition?(n.find(".cbp-item-wrapper").addClass("cbp-animation-slideLeft-out"),a.find(".cbp-item-wrapper").addClass("cbp-animation-slideLeft-in"),s=n.find(".cbp-item-wrapper").last(),s.length?s.one(l.animationEnd,function(){l._filterFinish()}):l._filterFinish()):(n.find(".cbp-item-wrapper").animate({left:"-100%"},400,function(){l._filterFinish()}),a.find(".cbp-item-wrapper").css("left","100%"),a.find(".cbp-item-wrapper").animate({left:0},400)),l._processStyle(l.transitionByFilter),l._resizeMainContainer("animate")},_slideDelayInit:function(){this._wrapperFilterInit()},_slideDelayFilter:function(e,t,i){this._wrapperFilter(e,t,i,"slideDelay",!0)},_3dflipInit:function(){this._wrapperFilterInit()},_3dflipFilter:function(e,t,i){this._wrapperFilter(e,t,i,"3dflip",!0)},_rotateSidesInit:function(){this._wrapperFilterInit()},_rotateSidesFilter:function(e,t,i){this._wrapperFilter(e,t,i,"rotateSides",!0)},_flipOutDelayInit:function(){this._wrapperFilterInit()},_flipOutDelayFilter:function(e,t,i){this._wrapperFilter(e,t,i,"flipOutDelay",!1)},_foldLeftInit:function(){this._wrapperFilterInit()},_foldLeftFilter:function(e,t,i){this._wrapperFilter(e,t,i,"foldLeft",!0)},_unfoldInit:function(){this._wrapperFilterInit()},_unfoldFilter:function(e,t,i){this._wrapperFilter(e,t,i,"unfold",!0)},_scaleDownInit:function(){this._wrapperFilterInit()},_scaleDownFilter:function(e,t,i){this._wrapperFilter(e,t,i,"scaleDown",!0)},_frontRowInit:function(){this._wrapperFilterInit()},_frontRowFilter:function(e,t,i){this._wrapperFilter(e,t,i,"frontRow",!0)},_rotateRoomInit:function(){this._wrapperFilterInit()},_rotateRoomFilter:function(e,t,i){this._wrapperFilter(e,t,i,"rotateRoom",!0)},_wrapperFilterInit:function(){var e=this;e._duplicateContent({}),e.$ul.addClass("cbp-wrapper-front"),e.$ulClone.css("opacity",0),e.transitionByFilter="css"},_wrapperFilter:function(t,i,o,n,a){var s,l,r,p,c=this;if(c.blocks.show(),c.blocksClone.show(),"*"!==o&&(i=i.filter(o)),i.removeClass("cbp-item-hidden"),c.$obj.addClass("cbp-no-transition"),c.blocks.find(".cbp-item-wrapper").removeClass("cbp-animation-"+n+"-out cbp-animation-"+n+"-in cbp-animation-"+n+"-fadeOut").css("style",""),c.blocksClone.find(".cbp-item-wrapper").removeClass("cbp-animation-"+n+"-out cbp-animation-"+n+"-in cbp-animation-"+n+"-fadeOut").css("style",""),c.$ul.css({opacity:1}),c.$ulClone.css({opacity:1}),"clone"===c.ulHidden?(c.ulHidden="first",s=c.blocksClone,c.$ul.removeClass("cbp-wrapper-front"),c.$ulClone.addClass("cbp-wrapper-front")):(c.ulHidden="clone",s=c.blocks,c.$ul.addClass("cbp-wrapper-front"),c.$ulClone.removeClass("cbp-wrapper-front")),l=c.blocksAvailable,s.css("opacity",0),s.addClass("cbp-item-hidden"),c.blocksAvailable=s.filter(o),c.blocksAvailable.css({opacity:1}),c.blocksAvailable.removeClass("cbp-item-hidden"),r=c.blocksAvailable,c._layout(),"css"===c.transition){var d=0,u=0;r.each(function(t,i){e(i).find(".cbp-item-wrapper").addClass("cbp-animation-"+n+"-in").css("animation-delay",u/20+"s"),u++}),l.each(function(t,i){d>=u&&a?e(i).find(".cbp-item-wrapper").addClass("cbp-animation-"+n+"-fadeOut"):e(i).find(".cbp-item-wrapper").addClass("cbp-animation-"+n+"-out").css("animation-delay",d/20+"s"),d++}),p=l.find(".cbp-item-wrapper").first(),p.length?p.one(c.animationEnd,function(){c._filterFinish(),("ie10"===c.browser||"ie11"===c.browser)&&setTimeout(function(){e(".cbp-item-wrapper").removeClass("cbp-animation-"+n+"-in")},300)}):(c._filterFinish(),("ie10"===c.browser||"ie11"===c.browser)&&setTimeout(function(){e(".cbp-item-wrapper").removeClass("cbp-animation-"+n+"-in")},300))}else l.find(".cbp-item-wrapper").animate({left:"-100%"},400,function(){c._filterFinish()}),r.find(".cbp-item-wrapper").css("left","100%"),r.find(".cbp-item-wrapper").animate({left:0},400);c._processStyle(c.transitionByFilter),c._resizeMainContainer("animate")},_filterFinish:function(){var e=this;e.isAnimating=!1,e._triggerEvent("filterFinish"),e.$obj.trigger("filterComplete"+a)},_registerEvent:function(e,t,i){var o=this;o.registeredEvents[e]||(o.registeredEvents[e]=[]),o.registeredEvents[e].push({func:t,oneTime:i||!1})},_triggerEvent:function(e){var t,i,o=this;if(o.registeredEvents[e])for(t=0,i=o.registeredEvents[e].length;i>t;t++)o.registeredEvents[e][t].func.call(o),o.registeredEvents[e][t].oneTime&&(o.registeredEvents[e].splice(t,1),t--,i--)},init:function(t,i){var o=e.data(this,"cubeportfolio");if(o)throw new Error("cubeportfolio is already initialized. Destroy it before initialize again!");o=e.data(this,"cubeportfolio",Object.create(l)),o._main(this,t,i)},destroy:function(o){var n=e.data(this,"cubeportfolio");if(!n)throw new Error("cubeportfolio is not initialized. Initialize it before calling destroy method!");e.isFunction(o)&&n._registerEvent("destroyFinish",o,!0),e.removeData(this,"cubeportfolio"),e.each(n.blocks,function(){e.removeData(this,"transformFn"),e.removeData(this,"cbp-wxh")}),n.$obj.removeClass("cbp cbp-loading cbp-ready cbp-no-transition"),n.$ul.removeClass("cbp-wrapper-front cbp-wrapper-back cbp-wrapper no-trans").removeAttr("style"),"slider"===n.options.layoutMode&&n.$ul.unwrap(),n.$obj.removeAttr("style"),n.$ulClone&&n.$ulClone.remove(),n.browser&&n.$obj.removeClass("cbp-"+n.browser),e(t).off("resize"+a),n.$obj.off(".cbp"),e(i).off(".cbp"),n.lightbox&&n.lightbox.destroy(),n.singlePage&&n.singlePage.destroy(),n.singlePageInline&&n.singlePageInline.destroy(),n.blocks.removeClass("cbp-item-hidden").removeAttr("style"),n.blocks.find(".cbp-item-wrapper").children().unwrap(),n.options.caption&&n._captionDestroy(),n.options.animationType&&("boxShadow"===n.options.animationType&&e(".cbp-animation-boxShadowMask").remove(),n.$obj.removeClass("cbp-animation-"+n.options.animationType)),n._destroySlider(),n._triggerEvent("destroyFinish")},filter:function(t,i,o){var n,a,s,l=o||e.data(this,"cubeportfolio");if(!l)throw new Error("cubeportfolio is not initialized. Initialize it before calling filter method!");t="*"===t||""===t?"*":t,l.isAnimating||l.defaultFilter===t||("ie8"===l.browser||"ie9"===l.browser?l.$obj.removeClass("cbp-no-transition cbp-appendItems-loading"):(l.obj.classList.remove("cbp-no-transition"),l.obj.classList.remove("cbp-appendItems-loading")),l.defaultFilter=t,l.isAnimating=!0,e.isFunction(i)&&l._registerEvent("filterFinish",i,!0),n=l.blocks.filter(".cbp-item-hidden"),a=[],l.singlePageInline&&l.singlePageInline.isOpen?l.singlePageInline.close("promise",{callback:function(){l["_"+l.options.animationType+"Filter"](a,n,t)}}):l["_"+l.options.animationType+"Filter"](a,n,t),l.options.filterDeeplinking&&(s=location.href.replace(/#cbpf=(.*?)([#|?&]|$)/gi,""),location.href=s+"#cbpf="+t,l.singlePage&&l.singlePage.url&&(l.singlePage.url=location.href)))},showCounter:function(t,i){var o=e.data(this,"cubeportfolio");if(!o)throw new Error("cubeportfolio is not initialized. Initialize it before calling showCounter method!");o.elems=t,e.each(t,function(){var t,i=e(this),n=i.data("filter");n="*"===n||""===n?"*":n,t=o.blocks.filter(n).length,i.find(".cbp-filter-counter").text(t)}),e.isFunction(i)&&i.call(o)},appendItems:function(t,i){var o=this,n=e.data(o,"cubeportfolio");if(!n)throw new Error("cubeportfolio is not initialized. Initialize it before calling appendItems method!");n.singlePageInline&&n.singlePageInline.isOpen?n.singlePageInline.close("promise",{callback:function(){l._addItems.call(o,t,i)}}):l._addItems.call(o,t,i)},_addItems:function(t,i){var o,n,a,s,r=e.data(this,"cubeportfolio"),p=this;e.isFunction(i)&&r._registerEvent("appendItemsFinish",i,!0),r.$obj.addClass("cbp-no-transition cbp-appendItems-loading"),t=e(t).css("opacity",0),t.filter(".cbp-item").wrapInner('<div class="cbp-item-wrapper"></div>'),s=t.filter(r.defaultFilter),r.ulHidden?"first"===r.ulHidden?(t.appendTo(r.$ulClone),r.blocksClone=r.$ulClone.children(),n=r.blocksClone,a=t.clone(),a.appendTo(r.$ul),r.blocks=r.$ul.children()):(t.appendTo(r.$ul),r.blocks=r.$ul.children(),n=r.blocks,a=t.clone(),a.appendTo(r.$ulClone),r.blocksClone=r.$ulClone.children()):(t.appendTo(r.$ul),r.blocks=r.$ul.children(),n=r.blocks),r.options.caption&&(r._captionDestroy(),r._captionInit()),o=r.defaultFilter,r.blocksAvailable=n.filter(o),n.not(".cbp-item-hidden").not(o).addClass("cbp-item-hidden"),r._load(r.$obj,function(){"responsive"===r.options.gridAdjustment&&r._responsiveLayout(),r._layout(),r._processStyle(r.transitionByFilter),r._resizeMainContainer("animate"),"slider"===r.options.layoutMode&&(r._updateSlider(),r.$obj.removeClass("cbp-no-transition"));var e=t.filter(".cbp-item-hidden");switch(r.options.animationType){case"flipOut":e.find(".cbp-item-wrapper").addClass("cbp-animation-flipOut-out");break;case"scaleSides":e.find(".cbp-item-wrapper").addClass("cbp-animation-scaleSides-out");break;case"flipBottom":e.find(".cbp-item-wrapper").addClass("cbp-animation-flipBottom-out")}s.animate({opacity:1},800,function(){switch(r.options.animationType){case"bounceLeft":case"bounceTop":case"bounceBottom":r.blocks.css("opacity",1),r.blocksClone.css("opacity",1);break;case"flipOut":case"scaleSides":case"flipBottom":e.css("opacity",1)}}),r.elems&&l.showCounter.call(p,r.elems),setTimeout(function(){r._triggerEvent("appendItemsFinish")},700)})}};e.fn.cubeportfolio=function(e){var t=arguments;return this.each(function(){if(l[e])return l[e].apply(this,Array.prototype.slice.call(t,1));if("object"!=typeof e&&e)throw new Error("Method "+e+" does not exist on jquery.cubeportfolio.js");return l.init.apply(this,t)})},e.fn.cubeportfolio.options={layoutMode:"grid",drag:!0,auto:!1,autoTimeout:5e3,autoPauseOnHover:!0,showNavigation:!0,showPagination:!0,rewindNav:!0,scrollByPage:!1,defaultFilter:"*",filterDeeplinking:!1,animationType:"fadeOut",gridAdjustment:"responsive",mediaQueries:!1,gapHorizontal:10,gapVertical:10,caption:"pushTop",displayType:"lazyLoading",displayTypeSpeed:400,lightboxDelegate:".cbp-lightbox",lightboxGallery:!0,lightboxTitleSrc:"data-title",lightboxCounter:'<div class="cbp-popup-lightbox-counter">{{current}} of {{total}}</div>',singlePageDelegate:".cbp-singlePage",singlePageDeeplinking:!0,singlePageStickyNavigation:!0,singlePageCounter:'<div class="cbp-popup-singlePage-counter">{{current}} of {{total}}</div>',singlePageAnimation:"left",singlePageCallback:function(){},singlePageInlineDelegate:".cbp-singlePageInline",singlePageInlinePosition:"top",singlePageInlineInFocus:!0,singlePageInlineCallback:function(){}}}(jQuery,window,document);